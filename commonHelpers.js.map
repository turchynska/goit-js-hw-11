{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\"; \nimport \"simplelightbox/dist/simple-lightbox.min.css\"; \n\n \n \n export function fetchImages(value){\n    const BASE_URL = \"https://pixabay.com\";\n    const END_POINT = \"/api/\";\n    const params = new URLSearchParams({\n        key: \"44767579-3ee2796193c18f7fdbcfe2f8d\",\n        q: value,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n\n\n    const url = `${BASE_URL}${END_POINT}?${params}`;\n\n    return fetch(url)\n    .then(res => res.json());\n }","export function renderImage(data){\n    return data.map(image => `<li class=\"gallery-item\">\n      <div class=\"image-cont\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        </a>\n        <div class=\"image-descr\">\n          <div class=\"descr-box\">\n            <p class=\"image-feature\">Likes</p>\n            <p class=\"image-data\">${image.likes}</p>\n          </div>\n          <div class=\"descr-box\">\n            <p class=\"image-feature\">Views</p>\n            <p class=\"image-data\">${image.views}</p>\n          </div>\n          <div class=\"descr-box\">\n            <p class=\"image-feature\">Comments</p>\n            <p class=\"image-data\">${image.comments}</p>\n          </div>\n          <div class=\"descr-box\">\n            <p class=\"image-feature\">Downloads</p>\n              <p class=\"image-data\">${image.downloads}</p>\n          </div>\n        </div>\n      </div>\n    </li>`).join(\"\");\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { renderImage } from \"./js/render-functions\";\n\n\n\nconst btn = document.querySelector(\".search-btn\");\nconst form = document.querySelector(\".search-form\");\nconst input = document.querySelector(\".search-input\");\nconst list = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nlet lightbox = new SimpleLightbox(\".gallery a\", {\n    captions: true,\n    captionDelay: 250,\n    captionPosition: 'bottom',\n    captionsData: 'alt',\n});\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    const value = event.target.elements.query.value.trim();\n\n    if (value === \"\") {\n        iziToast.error({\n            position: \"topRight\",\n            message: \"Please enter some text\",\n        });\n        return;\n    }\n\n    list.innerHTML = \"\";\n    loader.classList.remove(\"visually-hidden\");\n\n    fetchImages(value)\n        .then(data => {\n            if (data.hits && data.hits.length > 0) {\n                const markup = renderImage(data.hits);\n                list.insertAdjacentHTML(\"beforeend\", markup);\n                loader.classList.add(\"visually-hidden\");\n\n                lightbox.refresh();\n            } else {\n                iziToast.error({\n                    position: \"topRight\",\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n                loader.classList.add(\"visually-hidden\");\n            }\n        })\n        .catch(err => {\n            console.log(err);\n            iziToast.error({\n                position: \"topRight\",\n                message: \"Sorry, the request can't be completed at this time. Please try again\",\n            });\n            loader.classList.add(\"visually-hidden\");\n        });\n\n    input.value = \"\";\n});"],"names":["fetchImages","value","BASE_URL","END_POINT","params","url","res","renderImage","data","image","form","input","list","loader","lightbox","SimpleLightbox","event","iziToast","markup","err"],"mappings":"6vBAKQ,SAASA,EAAYC,EAAM,CAC/B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAGKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EACf,KAAKC,GAAOA,EAAI,KAAM,CAAA,CAC3B,CCrBO,SAASC,EAAYC,EAAK,CAC7B,OAAOA,EAAK,IAAIC,GAAS;AAAA;AAAA,wCAEWA,EAAM,aAAa;AAAA,4CACfA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oCAK9CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,sCAIZA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,UAI3C,EAAE,KAAK,EAAE,CACnB,CCjBY,SAAS,cAAc,aAAa,EAChD,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,SAAU,GACV,aAAc,IACd,gBAAiB,SACjB,aAAc,KAClB,CAAC,EAEDL,EAAK,iBAAiB,SAAWM,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMf,EAAQe,EAAM,OAAO,SAAS,MAAM,MAAM,OAEhD,GAAIf,IAAU,GAAI,CACdgB,EAAS,MAAM,CACX,SAAU,WACV,QAAS,wBACrB,CAAS,EACD,MACH,CAEDL,EAAK,UAAY,GACjBC,EAAO,UAAU,OAAO,iBAAiB,EAEzCb,EAAYC,CAAK,EACZ,KAAKO,GAAQ,CACV,GAAIA,EAAK,MAAQA,EAAK,KAAK,OAAS,EAAG,CACnC,MAAMU,EAASX,EAAYC,EAAK,IAAI,EACpCI,EAAK,mBAAmB,YAAaM,CAAM,EAC3CL,EAAO,UAAU,IAAI,iBAAiB,EAEtCC,EAAS,QAAO,CAChC,MACgBG,EAAS,MAAM,CACX,SAAU,WACV,QAAS,0EAC7B,CAAiB,EACDJ,EAAO,UAAU,IAAI,iBAAiB,CAEtD,CAAS,EACA,MAAMM,GAAO,CACV,QAAQ,IAAIA,CAAG,EACfF,EAAS,MAAM,CACX,SAAU,WACV,QAAS,sEACzB,CAAa,EACDJ,EAAO,UAAU,IAAI,iBAAiB,CAClD,CAAS,EAELF,EAAM,MAAQ,EAClB,CAAC"}